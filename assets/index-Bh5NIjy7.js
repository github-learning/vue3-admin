import{ar as F,d as v,ai as q,k as _,at as M,o as j,i as N,w as n,an as B,aj as K,u as i,aq as L,ao as Q,ap as T,av as U,as as y,be as b,a3 as W,a1 as V,ac as X,r as R,bG as Y,h as Z,v as z,x as E,s as ee,aR as te,a as I,b as u,e as f,f as se,bH as oe,bI as ae,bJ as ne,az as le,j as re,E as ue,g as ce,_ as ie}from"./index-BQvgPr7K.js";import{E as de,a as pe}from"./el-form-item-04Ng_7fT.js";const P=Symbol("rowContextKey"),fe=["start","center","end","space-around","space-between","space-evenly"],me=["top","middle","bottom"],_e=F({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:fe,default:"start"},align:{type:String,values:me}}),ge=v({name:"ElRow"}),ye=v({...ge,props:_e,setup(m){const t=m,c=q("row"),l=_(()=>t.gutter);M(P,{gutter:l});const a=_(()=>{const e={};return t.gutter&&(e.marginRight=e.marginLeft=`-${t.gutter/2}px`),e}),r=_(()=>[c.b(),c.is(`justify-${t.justify}`,t.justify!=="start"),c.is(`align-${t.align}`,!!t.align)]);return(e,w)=>(j(),N(Q(e.tag),{class:K(i(r)),style:L(i(a))},{default:n(()=>[B(e.$slots,"default")]),_:3},8,["class","style"]))}});var be=T(ye,[["__file","row.vue"]]);const ve=U(be),we=F({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:y([Number,Object]),default:()=>b({})},sm:{type:y([Number,Object]),default:()=>b({})},md:{type:y([Number,Object]),default:()=>b({})},lg:{type:y([Number,Object]),default:()=>b({})},xl:{type:y([Number,Object]),default:()=>b({})}}),$e=v({name:"ElCol"}),he=v({...$e,props:we,setup(m){const t=m,{gutter:c}=W(P,{gutter:_(()=>0)}),l=q("col"),a=_(()=>{const e={};return c.value&&(e.paddingLeft=e.paddingRight=`${c.value/2}px`),e}),r=_(()=>{const e=[];return["span","offset","pull","push"].forEach(o=>{const d=t[o];V(d)&&(o==="span"?e.push(l.b(`${t[o]}`)):d>0&&e.push(l.b(`${o}-${t[o]}`)))}),["xs","sm","md","lg","xl"].forEach(o=>{V(t[o])?e.push(l.b(`${o}-${t[o]}`)):X(t[o])&&Object.entries(t[o]).forEach(([d,g])=>{e.push(d!=="span"?l.b(`${o}-${d}-${g}`):l.b(`${o}-${g}`))})}),c.value&&e.push(l.is("guttered")),[l.b(),e]});return(e,w)=>(j(),N(Q(e.tag),{class:K(i(r)),style:L(i(a))},{default:n(()=>[B(e.$slots,"default")]),_:3},8,["class","style"]))}});var xe=T(he,[["__file","col.vue"]]);const Ee=U(xe),Re=()=>{const m=R(""),t=R(),c=Y(),l=a=>Object.keys(a).reduce((r,e)=>(e!=="redirect"&&(r[e]=a[e]),r),{});return Z(()=>{const a=c.query;a&&(m.value=a.redirect,t.value=l(a))}),{redirect:m,otherQuery:t}},je=v({__name:"index",setup(m){const{proxy:t}=ce(),{redirect:c,otherQuery:l}=Re(),a=z({loginForm:{username:"test-1",password:"123456-1"},loginRules:{username:[{required:!0,trigger:"blur",message:"请输入用户名"}],password:[{required:!0,trigger:"blur",message:"请输入密码"}]}}),{loginForm:r,loginRules:e}=a,w=E("formRef"),C=E("password"),o=E("username"),d=R(!1),g=()=>{var p;(p=w.value)==null||p.validate(async s=>{s&&(d.value=!0,await oe(r).then($=>{t==null||t.$message.success("登录成功"),ae($.data.token),ne.push({path:c.value||"/",query:l.value})}).finally(()=>{d.value=!1}))})};function k(p){p.key=="Enter"&&g()}return ee(()=>{var p,s;document.addEventListener("keyup",k),a.loginForm.username===""?(p=o.value)==null||p.focus():a.loginForm.password===""&&((s=C.value)==null||s.focus())}),te(()=>{document.removeEventListener("keyup",k)}),(p,s)=>{const $=Ee,J=I("user"),O=le,S=re,h=de,A=I("lock"),D=ue,G=pe,H=ve;return j(),N(H,{class:"login-container"},{default:n(()=>[u($,{lg:16,md:12,class:"left"},{default:n(()=>s[2]||(s[2]=[f("div",null,[f("div",null,"欢迎光临"),f("div",null,"此站点是《vue3 + vite5 实战后台开发》演示项目")],-1)])),_:1}),u($,{lg:8,md:12,class:"right"},{default:n(()=>[s[4]||(s[4]=f("h2",{class:"title"},"欢迎回来",-1)),s[5]||(s[5]=f("div",null,[f("span",{class:"line"}),f("span",null,"账号密码登录"),f("span",{class:"line"})],-1)),u(G,{ref:"formRef",rules:i(e),model:i(r),class:"w-[250px]"},{default:n(()=>[u(h,{prop:"username"},{default:n(()=>[u(S,{modelValue:i(r).username,"onUpdate:modelValue":s[0]||(s[0]=x=>i(r).username=x),placeholder:"请输入用户名"},{prefix:n(()=>[u(O,null,{default:n(()=>[u(J)]),_:1})]),_:1},8,["modelValue"])]),_:1}),u(h,{prop:"password"},{default:n(()=>[u(S,{type:"password",modelValue:i(r).password,"onUpdate:modelValue":s[1]||(s[1]=x=>i(r).password=x),placeholder:"请输入密码","show-password":""},{prefix:n(()=>[u(O,null,{default:n(()=>[u(A)]),_:1})]),_:1},8,["modelValue"])]),_:1}),u(h,null,{default:n(()=>[u(D,{round:"",color:"#626aef",class:"w-[250px]",type:"primary",onClick:g,loading:d.value},{default:n(()=>s[3]||(s[3]=[se("登 录")])),_:1},8,["loading"])]),_:1})]),_:1},8,["rules","model"])]),_:1})]),_:1})}}}),ke=ie(je,[["__scopeId","data-v-1bc94d0e"]]);export{ke as default};
