<template>
  <div>
    <ProTable
      :query-fields="queryFields"
      :table-columns="tableColumns"
      :data="fetchData"
      stripe
    >
      <!-- <template #status="{ row }">
        <span :style="{ color: row.status == 'active' ? 'red' : 'green' }">{{
          row.status
        }}</span>
      </template>
      <template #action="{ row }">
        <button @click="handleAction(row)">æ“ä½œæŒ‰é’®</button>
      </template> -->
    </ProTable>
  </div>
</template>

<script setup>
// lang="jsx"
// æŸ¥è¯¢æ¡ä»¶é…ç½®
const queryFields = [
  {
    label: 'åç§°',
    prop: 'name',
    component: 'el-input',
    props: {
      placeholder: 'è¯·è¾“å…¥åç§°'
    }
  },
  {
    label: 'çŠ¶æ€',
    prop: 'status',
    component: 'el-select',
    props: {
      placeholder: 'è¯·é€‰æ‹©çŠ¶æ€',
      options: [
        { value: 'active', label: 'å¯ç”¨' },
        { value: 'inactive', label: 'åœç”¨' }
      ]
    }
  },
  {
    label: 'åˆ›å»ºæ—¶é—´',
    prop: 'createdAt',
    component: 'el-date-picker',
    props: {
      type: 'daterange',
      startPlaceholder: 'å¼€å§‹æ—¥æœŸ',
      endPlaceholder: 'ç»“æŸæ—¥æœŸ'
    }
  }
]

// è¡¨æ ¼åˆ—é…ç½®
const tableColumns = [
  {
    label: 'åç§°',
    prop: 'name',
    width: '150'
  },
  // {
  //   label: 'çŠ¶æ€',
  //   prop: 'status',
  //   dataIndex: 'status',
  //   width: '100'
  // },
  // {
  //   title: 'æ“ä½œ',
  //   width: '180px',
  //   dataIndex: 'action',
  //   fixed: 'right'
  // }
  {
    label: 'çŠ¶æ€',
    prop: 'status',
    width: '150',
    render: (row) => (row.status === 'active' ? 'ğŸŸ¢ Active' : 'ğŸ”´ Inactive')
  },
  {
    label: 'æ“ä½œ',
    prop: 'action',
    width: '180',
    render: () => 'æ“ä½œ '
    // render() {
    //   return (
    //     <div>
    //       <button onClick={() => console.log('æŒ‰é’®ç‚¹å‡»')}>æ“ä½œæŒ‰é’®</button>
    //     </div>
    //   )
    // }
    // render: (row) => '<button>æ“ä½œæŒ‰é’®</button>'
    // render: (row) => {
    //   const rowData = { ...row } // è§£åŒ…ä»¥å»é™¤å“åº”å¼ç‰¹æ€§
    //   console.log(JSON.stringify(rowData))
    //   return <button onClick={() => handleAction(rowData)}>æ“ä½œæŒ‰é’®</button>
    //return <button onClick={() => handleAction(row)}>æ“ä½œæŒ‰é’®</button>
    // }
  }
]
//   <el-button>22</el-button>

// æ¨¡æ‹Ÿè¯·æ±‚æ•°æ®çš„æ–¹æ³•
const fetchData = ref([
  { name: 'å¼ ä¸‰', status: 'active' },
  { name: 'æå››', status: 'inactive' },
  { name: 'ç‹äº”', status: 'active' }
])

// const handleAction = (raw) => {
//   console.log(
//     '%c [  ]-85',
//     'font-size:13px; background:pink; color:#bf2c9f;',
//     raw
//   )
// }
</script>
